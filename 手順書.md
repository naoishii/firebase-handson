
# Firebaseãƒãƒ³ã‚ºã‚ªãƒ³

## æº–å‚™
ã¾ãšã¯Reactã®æº–å‚™

create-react-appã§é››å½¢ã‚’ä½œã‚‹

ãã®ä»–ã‚‚ã‚ã‚‚ã‚ã‚‚æº–å‚™ã€‚æœ€æ–°ã®ç’°å¢ƒã§ã‚„ã£ã¦ã„ã“ã†ãœã€‚  
ã¨ã¯ã„ãˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã™ã¹ã¦gitã«ä¸ŠãŒã£ã¦ã„ã‚‹ã®ã§ãã‚Œã‚’ä½¿ãˆã°OKã§ã™ã€‚

* eslint
* prettier
  + vscodeã«prettierãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¨­å®šã—ã¦ãã‚Œã‚ˆãª

https://github.com/naoishii/firebase-handson/blob/master/.eslintrc.js

## æº–å‚™2 Reactã«ã‚ˆã‚‹ãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã®ä½œæˆ
ä»Šå›ã¯Firebaseã®è©±ãªã®ã§ã“ã“ã¯ã‚³ãƒ”ãƒ¼ã§æ¸ˆã¾ã›ã¡ã‚ƒã„ã¾ã—ã‚‡ã†ã€‚
step2ãƒ–ãƒ©ãƒ³ãƒã‚’ã‚³ãƒ”ãƒ¼ã—ãŸã‚‰OKã§ã™

## firebseã®æº–å‚™ã¨ã¤ã„ã§ã«hosting
Webã§ã®ç™»éŒ²ã¨ã‹ã¯é›°å›²æ°—ã§ã‚„ã£ã¡ã‚ƒã£ã¦ã»ã—ã„ã€‚

ãƒ­ã‚°ã‚¤ãƒ³â†’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ

è©³ã—ãã¯Reactå…¥é–€ï¼ˆç¿”æ³³ç¤¾ï¼‰12ç« å‚ç…§


### hosting
å‹¢ã„ã«ã®ã£ã¦ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã¾ã§ã‚„ã‚‹ã€‚
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆâ†’hostingâ†’ä½¿ã£ã¦ã¿ã‚‹  
è¨€ã‚ã‚Œã‚‹ãŒã¾ã¾ã«cliã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚  
ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§å¯¾è©±å‹ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã«ã‚ˆã£ã¦ã©ã®æ©Ÿèƒ½ã‚’ä½¿ã†ã‹ï¼ˆã©ã®æ©Ÿèƒ½ã®ã‚³ãƒ³ãƒ•ã‚£ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã‹ï¼‰ã‚’èã‹ã‚Œã‚‹ã€‚  
å¿…è¦ãªã‚‚ã®ã«spaceã§ãƒã‚§ãƒƒã‚¯ã‚’ä»˜ã‘ã¦enter
1ç‚¹ã€hostingã«é–¢ã—ã¦å…¬é–‹ã™ã‚‹ã®ã¯ã©ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚’èã‹ã‚Œã‚‹ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯publicã ãŒã€create-react-appã¯buildãªã®ã§buildã«ã™ã‚‹ã¨ä¾¿åˆ©ã ã¨æ€ã†ã€‚

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã‚‹
```
firebase deploy
```
ç„¡äº‹æˆåŠŸã—ãŸã‚‰URLãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ç¢ºèªã—ã¦ã¿ã‚ˆã†ã€‚

ã‚‚ã—ã‚‚ã‚Šã‚‚ã‚Šã§Firebaseã®è¨­å®šã‚’ã—ãŸå ´åˆã€deployãŒé…ããªã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚  
å¤‰æ›´ã«é–¢é€£ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®ã¿deployã—ãŸã„å ´åˆã¯
```
firebase deploy --only hosting
```
ã®ã‚ˆã†ã«å¯¾è±¡ã‚’çµã‚‹ã“ã¨ãŒã§ãã‚‹

## Firebse Authentication(èªè¨¼)
https://firebase.google.com/docs/auth/?authuser=0

https://github.com/pirosikick/react-hands-on-20171023/tree/master/5-use-firebase


## èªè¨¼æ©Ÿèƒ½ã‚’ä½¿ã†
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯èªè¨¼æ©Ÿèƒ½ã¯OFFãªã®ã§webUIã‹ã‚‰æœ‰åŠ¹åŒ–ã™ã‚‹ã€‚

DEVELOPâ†’ãƒ­ã‚°ã‚¤ãƒ³æ–¹æ³•(ã‚’è¨­å®š)

åŒ¿åã¨googleã‚’æœ‰åŠ¹åŒ–ã—ã¾ã—ã‚‡ã†ã€‚ä½™è£•ãŒã‚ã‚Œã°Twitter, Github, Facebookã‚‚ã‚„ã‚ŠãŸã„ã€‚

ã¨ã‚Šã‚ãˆãšUIä¸Šã§ã®è¨­å®šã¯çµ‚äº†ã€‚ã‚³ãƒ¼ãƒ‰ã«ç§»ã£ã¦ã„ãã¾ã™ã€‚

### èªè¨¼ã‚’è¡Œã†ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
hostingã¯JSã«ã¯ä¿®æ­£ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸãŒã€èªè¨¼ã‹ã‚‰ã¯ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚
firebaseã®æ©Ÿèƒ½ã‚’ä½¿ã†ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚ã‚‹ã®ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
```
npm install --save firebase
```
`step4-hanuke`ãƒ–ãƒ©ãƒ³ãƒã‚’å…ƒã«ã‚„ã£ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆæœŸåŒ–
https://firebase.google.com/docs/web/setup?authuser=0
API key ãªã©ã‚’å–å¾—ã—ã¾ã™ã€‚
Project OverViewã‹ã‚‰ã€Œã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã« Firebase ã‚’è¿½åŠ ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€è¨­å®šã‚’å–å¾—ã—ã¾ã™ã€‚å…¬é–‹ã—ã¦ã‚‚å¤§ä¸ˆå¤«ãªã‚ˆã†ã§ã™ã€‚

ã“ã®è¾ºã‹ã‚‰ã¯React/Reduxã¨é•ã£ã¦naoishiiã®çµŒé¨“ãŒæµ…ãã¦ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‹ã©ã†ã‹ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ã‚ˆã¨äºˆã‚ãŠæ–­ã‚Šã•ã›ã¦ãã ã•ã„ï½—

firebaseã®è¨­å®šã‚’ã™ã‚‹ã ã‘ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™ã€‚`src/firebase.js`ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€å…ˆã»ã©ã‚³ãƒ”ãƒ¼ã—ãŸè¨­å®šã‚’é©ç”¨ã—ã¾ã™ã€‚
```js
import firebase from 'firebase';

const firebaseApp = firebase.initializeApp({
  ã“ã´ãƒ¼ãº
});

export default firebaseApp;
```

firebaseã¨ã®ã‚„ã‚Šå–ã‚Šã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã§è¡Œã‚ã‚Œã¾ã™ã€‚firebaseã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒ•ãƒƒã‚¯ã«reduxã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç™ºç«ã—ãŸã„ã®ã§ã€storeã‚’å—ã‘å–ã‚Šã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™»éŒ²ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã™ã€‚
ä¸­èº«ã¯ã¾ã ãªãã¦è‰¯ã„ã§ã™ã€‚
```js
const connectFirebase = store => {
  // store.dipatch()ã§ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒç™ºç«
};

export { connectFirebase };
```

app.jsã§ä»Šä½œã£ãŸé–¢æ•°ã«storeã‚’æ¸¡ã—ã¾ã™
```js
...
import createStore from './createStore';
import { connectFirebase } from './firebase';

const store = createStore();
connectFirebase(store);
...
```

ä¸€æ—¦æº–å‚™OK

### åŒ¿åèªè¨¼
ã¾ãšã¯æ‰‹å§‹ã‚ã«åŒ¿åèªè¨¼ã‚’è¡Œã„ã¾ã™ã€‚åŒ¿åèªè¨¼ã‚’è¡Œã†ã“ã¨ã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã©ã‚’ä½¿ã‚ãšã«å€‹äººã‚’ç‰¹å®šã—ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã©ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã‚‚ã¡ã‚ã‚“ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒå¤‰ã‚ã£ãŸã‚Šã—ãŸå ´åˆã¯æƒ…å ±ã‚’å¼•ãç¶™ãã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
https://firebase.google.com/docs/auth/web/anonymous-auth?authuser=0

ãƒ¦ãƒ¼ã‚¶ãŒåŒ¿åèªè¨¼ã™ã‚‹ã€ã¨ã„ã†ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸã¨ãã«èªè¨¼ã‚’è¡Œã„ãŸã„ã®ã§ã€å¯¾å¿œã™ã‚‹actionã«èªè¨¼ã‚’è¡Œã†ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã™ã€‚
modules/user.js
```js
import firebaseApp from '../firebase';

...

const anonymousLogin = () => {
  return dispatch => {
    firebaseApp
      .auth()
      .signInAnonymously()
      .catch(function(error) {
        // Handle Errors here.
        const errorCode = error.code;
        const errorMessage = error.message;

        console.log(errorCode, errorMessage);
        dispatch(error());
      });
  };
};
```

èªè¨¼ã¯ã“ã®å ´ã§ã¯å®Œäº†ã›ãšã€éåŒæœŸçš„ã«èªè¨¼ã•ã‚Œã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ã™ã‚‹å½¢ã§å®Œäº†ã—ã¾ã™ã€‚  
ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã—ã‚‡ã†ã€‚
å…ˆç¨‹ä½œæˆã—ãŸconnectFirebaseã§ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’æ›¸ãã¾ã™ã€‚
```js
const connectFirebase = store => {
  firebase.auth().onAuthStateChanged(user => {
    console.log(user);
    if (user) {
      // User is signed in.
      const isAnonymous = user.isAnonymous;
      const uid = user.uid;

      store.dispatch(userAction.login(uid));
      store.dispatch(userAction.updateUsername(user.displayName || uid));
    } else {
      // User is signed out.
      const uid = user.uid;
      store.dispatch(userAction.logout(uid));
    }
  });
}
```

ä»¥ä¸Šã§åŒ¿åèªè¨¼ãŒã§ãã¾ã—ãŸã€‚

### googleèªè¨¼
googleIDã¨ç´ä»˜ã‘ã¦èªè¨¼ã‚’è¡Œã„ã¾ã™ã€‚
firebaseã¯googleã®ã‚µãƒ¼ãƒ“ã‚¹ãªã®ã§ï¼ˆã‹ã©ã†ã‹ã¯çŸ¥ã‚Šã¾ã›ã‚“ãŒï¼‰ã‚ã¡ã‚ƒãŠæ‰‹è»½ã«èªè¨¼ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚
https://firebase.google.com/docs/auth/web/google-signin?authuser=0


ã“ã‚Œã‚‚ã€Œgoogleèªè¨¼ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã“ã¨ã§èªè¨¼ã—ãŸã„ã®ã§actionã¨ã—ã¦è¨˜è¿°ã—ã¾ã™ã€‚ã¾ã‚ã“ã®ä¾‹ã§ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ç›´æ¥æ›¸ã„ã¦ã‚‚ã„ã„ã‚“ã§ã™ãŒã€ã‚ã¡ã“ã¡ã ã¨ã‚ã‹ã‚Šã¥ã‚‰ã„ã®ã§actionã¨ã—ã¦æ›¸ãã¾ã™ã€‚
```js
const googleLogin = () => {
  const provider = new firebase.auth.GoogleAuthProvider();
  firebase.auth().signInWithRedirect(provider);

  // ä»Šå›ã¯ç‰¹ã«ä½•ã‚‚ã—ãªã„
  return {
    type: 'GOOGLE_LOGIN',
  };
};
```
ä»Šå›ã¯ã„ãã¤ã‹ã‚ã‚‹èªè¨¼æ–¹æ³•ã®ã†ã¡ã€ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’åˆ©ç”¨ã™ã‚‹èªè¨¼ã«ã—ã¾ã—ãŸã€‚  
å½“ç„¶ã§ã™ãŒã€ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ãŸã ã‘ã§ã¯èªè¨¼ã•ã‚Œã¾ã›ã‚“ã®ã§ä½•ã‹ã‚’returnã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯`firebase.auth().getRedirectResult()`ã‚’ç”¨ã„ã¦ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‹ã‚‰å¸°ã£ã¦ããŸã¨ãã®å‡¦ç†ã‚’è¡Œã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯åŒ¿åèªè¨¼ã®ã¨ãã«ä½¿ã£ãŸ`firebase.auth().onAuthStateChanged()`ãŒå‡¦ç†ã‚’è¡Œã£ã¦ã„ã‚‹ã®ã§è¨˜è¿°ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚èªè¨¼çŠ¶æ…‹ãŒå¤‰åŒ–ã—ã¦ã„ã‚‹ã®ã§ onAuthStateChanged ãŒç™ºç«ã™ã‚‹ã®ã‚‚ã†ãªãšã‘ã¾ã™ã­ã€‚


## Firestore
Firebaseã«ã¯Realtime Databaceã¨Clowd Firestoreã®2ç¨®é¡ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚Firestoreã¯ã¾ã ãƒ™ãƒ¼ã‚¿ç‰ˆã§ã™ãŒã€è‰¯ã•ãã†ãªã®ã§ä»Šæ—¥ã¯ä½¿ã£ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚

è©³ã—ã„é•ã„ã¯ã“ã¡ã‚‰
https://firebase.google.com/docs/database/rtdb-vs-firestore?authuser=0

### åˆæœŸè¨­å®š
æ—©é€ŸåˆæœŸè¨­å®šã‚’ã‚„ã£ã¦ã„ãã¾ã—ã‚‡ã†ã€‚
WebUIã‹ã‚‰Databaceã‚’é¸æŠã—ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é¸æŠã—ã¾ã™ã€‚ä»Šå›ã¯Firestoreã§ã™ã€‚

ä½¿ã£ã¦ã¿ã‚‹çš„ãªãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã€ã‚¢ã‚¯ã‚»ã‚¹ãƒãƒªã‚·ãƒ¼ã‚’é¸æŠã—ã¾ã™ã€‚ã“ã‚Œã¯å¾Œã‹ã‚‰ç´°ã‹ãé¸æŠã§ãã‚‹ã®ã§ã€ä»Šå›ã¯æ‰‹æ—©ããƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠã—ã¾ã™ã€‚

Firestoreã‚‚RTDBã‚‚ã©ã¡ã‚‰ã‚‚NoSQLå‹ã§ã€æ§‹é€ åŒ–ã•ã‚ŒãŸJSONã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã¾ã™ã€‚

https://firebase.google.com/docs/firestore/data-model?authuser=0

Firestoreã«ã¯`ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³`ã¨`ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ`ã¨ã„ã†æ¦‚å¿µãŒå‡ºã¦ãã¾ã™ã€‚ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®é›†ã¾ã‚Šã§ã€ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦ã‚¯ã‚¨ãƒªã‚’ç™ºè¡Œã—ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å¾—ã‚‹å½¢ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å˜ä¸€ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚’ç¤ºã™ã®ã§ã¯ãªãã€è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ã™ã“ã¨ãŒã§ãã¾ã™ã€‚
```js
name :
  first : "Ada"
  last : "Lovelace"
born : 1815
```
JavaScriptã§ã„ã†Objectã‚‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä¸­ã®ï¼‘ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦æ‰±ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³â†’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆâ†’ãƒ‡ãƒ¼ã‚¿ã‚’å…¨éƒ¨å±•é–‹ã—ã¦ã‚‚JSONã®ã‚ˆã†ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ãã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã‚¯ã‚¨ãƒªã®åŠ¹ç‡åŒ–ã®ãŸã‚ã«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯åˆ¥ã®æ¦‚å¿µã«ãªã£ã¦ã„ã‚‹ã®ã§ã¯ã¨æ€ã„ã¾ã™ã€‚
æ³¨æ„ã™ã¹ãç‚¹ã¯ã€éšå±¤åŒ–ã™ã‚‹å ´åˆã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³â†’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆâ†’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆâ†’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆâ†’ãƒ‡ãƒ¼ã‚¿ã¨ã„ã†å½¢ã§ã¯ãªãã€ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³â†’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆâ†’ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³â†’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆâ†’ãƒ‡ãƒ¼ã‚¿ã¨ã„ã†å½¢ã«ãªã‚‹ç‚¹ã§ã™ã€‚
å­ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚µãƒ–ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¨å‘¼ã³ã¾ã™ã€‚

ãã†ã“ã†è¨€ã£ã¦ã„ã‚‹é–“ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æº–å‚™ã¯ã§ããŸã§ã—ã‚‡ã†ã‹ã€‚
æ—©é€Ÿï¼‘ã¤ç›®ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

ä»Šå›ã¯Firebaseã®ã‚µãƒ³ãƒ—ãƒ«ã‚ˆã‚Šã‚‚ã•ã‚‰ã«å°ã•ãªã‚µãƒ³ãƒ—ãƒ«ã§ã‚„ã£ã¦ã„ã“ã†ã¨æ€ã†ã®ã§ã€chat`ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³`ã®ä¸­ã«è¤‡æ•°ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ã™`ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ`ã‚’ä½œæˆã—ã¾ã™ã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€æŠ•ç¨¿è€…ã®åå‰(username)ã€æŠ•ç¨¿å†…å®¹(comment)ã€æŠ•ç¨¿æ™‚é–“(date)ã‚’è¡¨ã™`ãƒ‡ãƒ¼ã‚¿`ã‚’ç®¡ç†ã—ã¾ã™ã€‚

![image](https://slack-files.com/T53BQ2MJP-F9ENZD9PB-304ca5aa2a)

ä»¥ä¸Šã§WebUIã§è¡Œã†æº–å‚™ã¯å®Œäº†ã§ã™ã€‚
ã‚³ãƒ¼ãƒ‰ã§å‚ç…§ã—ã¦ã¿ã¾ã—ã‚‡ã†

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å‚ç…§
https://firebase.google.com/docs/firestore/quickstart?authuser=0
https://firebase.google.com/docs/firestore/query-data/get-data?authuser=0

Firestore, RTDBã®ã‚¦ãƒªã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ„Ÿã§ã™ãŒã€ä¸€æ—¦åŒæœŸçš„ã«ã‚„ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ãƒ‡ãƒ¼ã‚¿ã®è¿½åŠ ã‹ã‚‰ã‚„ã£ã¦ã„ã‚‹ã‘ã©å‚ç…§ã‹ã‚‰ã‚„ã£ã¡ã‚ƒã†ãã€‚

ã¾ãšã¯Firestoreã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼Ÿã‚’å–å¾—ã—ã¾ã™ã€‚
ã™ã§ã«firebaseã®è¨­å®šã¯å®Œäº†ã—ã¦ã„ã‚‹ã®ã§firebaseã®åˆæœŸåŒ–ã¯çœç•¥ã—ã¦ã„ã¾ã™ã€‚ï¼‘ç‚¹ã€æ³¨æ„ã™ã¹ãç‚¹ã¯`import 'firebase/firestore';`ã‚’è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ã§ã™ã€‚ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã«ã‚ˆã‚‹å‰¯ä½œç”¨ãŒå¿…è¦ã¿ãŸã„ã§ã™ã­ï¼Ÿ
firebaseã ã‘ã§ã¯ã€firebase.firestoreãŒå­˜åœ¨ã—ãªã‹ã£ãŸã®ã§ã€ã“ã‚Œã‚’è¿½åŠ ã™ã‚‹ã‚ˆã†ãªå‡¦ç†ãŒè¡Œã‚ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚


src/firebse.jsã«æ›¸ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
```js
import firebase from 'firebase';
import 'firebase/firestore';

...åˆæœŸåŒ–å‡¦ç†...

const db = firebase.firestore();
db
  .collection('chat')
  .get()
  .then(querySnapshot => {
    querySnapshot.forEach(doc => {
      const { username, comment } = doc.data();
      console.log(`${doc.id} => ${username}:${comment}`);
    });
  });


...

// ã‚¨ã‚­ã‚¹ãƒãƒ¼ãƒˆ
export { connectFirebase, db };
```

ç„¡äº‹ã«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã“ã‚Œã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã¯ãªããƒãƒ£ãƒƒãƒˆUIã«è¡¨ç¤ºã•ã›ã¾ã™ã€‚
ãƒ‡ãƒ¼ã‚¿ã‚’å–ã£ã¦ãã‚‹ã¨ã“ã‚ã‚’é–¢æ•°åŒ–ã—ã¾ã™ã€‚`modules/chat`ã«fetchCommentsã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¾ã™ã€‚(ãƒ‡ãƒ¼ã‚¿ã®è¿½åŠ ã§ã¯ãªãç½®ãæ›ãˆã‚’ã™ã‚‹ã®ã§ãã®ãŸã‚ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¨reducerã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚)
```js
import { db } from '../firebase';

...

const fetchComments = comments => {
  return async dispatch => {
    const querySnapshot = await db.collection('chat').get();

    // querySnapshotã¯ç‹¬è‡ªå‹ã§ã‚ã‚Šé…åˆ—ã§ã¯ãªã„ã®ã§mapã¯æœªå®Ÿè£…
    const comments = [];
    querySnapshot.forEach(doc => {
      comments.push(doc.data());
    });

    dispatch(replaceComments(comments));
  };
};

...

export { replaceComments, fetchComments, post };
```

ChatRoomã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®`componentDidMount`ã§ã“ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‘¼ã¶ã‚ˆã†ã«ã—ãŸã‚‰å‹•ä½œç¢ºèªã§ã™ã€‚
```js
  componentDidMount() {
    this.props.fetchComments();
  }
```

ã‚‚ã¨ã‚‚ã¨é™çš„ã«ãŠã„ã¦ãŠã„ãŸ3ä»¶ã®æŠ•ç¨¿ãŒã€å°‘ã—æ™‚é–“ã‚’ãŠã„ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå®Œäº†ã—ã€å…ˆç¨‹æ‰‹å…¥åŠ›ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å€¤ã«ç½®ãæ›ã‚ã£ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸è¿½åŠ 
ä»Šåº¦ã¯æŠ•ç¨¿ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã“ã¨ã§DBã¸ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚
postã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä¿®æ­£ã™ã‚‹ã ã‘ã§OKã§ã—ã‚‡ã†ã€‚

```js
const post = message => {
  return (dispatch, getState) => {
    const username = getState().user.username;
    const comment = {
      username: username,
      message,
      date: new Date(),
    };

    db
      .collection('chat')
      .add(comment)
      .then(function(docRef) {
        console.log('Document written with ID: ', docRef.id);
        dispatch(appendComments([comment]));
      })
      .catch(function(error) {
        console.error('Error adding document: ', error);
      });
  };
};
```
chatã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦æ–°ã—ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’addã—ã¦ã„ã¾ã™ã€‚webUIã§è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
(ã—ã‚Œã£ã¨commentâ†’messageã«å¤‰æ›´ã—ã¦ã„ã‚‹)


### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ 
ã“ã‚Œã˜ã‚ƒã‚å…¨ç„¶ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã˜ã‚ƒãªã„ã˜ã‚ƒãªã„ã‹ã€‚æŠ•ç¨¿ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã®ã‚‚ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®è¿½åŠ ã«æˆåŠŸã—ãŸå ´åˆã®å¾Œå‡¦ç†ã¨ã—ã¦appendCommentã‚’ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã—ã¦ã„ã‚‹ã‹ã‚‰ã«éãã¾ã›ã‚“ã€‚

ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã€ã‚„ã£ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®`onSnapshot`ã¨ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰ã‚’åˆ©ç”¨ã—ã¦ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«æ›´æ–°ã‚’ç›£è¦–ã—ã¾ã™ã€‚

ã»ã¼fetchCommentsã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¨åŒã˜ã‚³ãƒ¼ãƒ‰ã‚’`firebase.js`ã«æ›¸ã„ã¦ã¿ã¾ã™ã€‚
å¿…è¦ãªactionãªã©ã¯ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ãã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
```js
import * as chatActions from './modules/chat';

...
  db
    .collection('chat')
    .onSnapshot(querySnapshot => {
      const comments = [];
      querySnapshot.forEach(doc => {
        comments.push(doc.data());
      });
      store.dispatch(chatActions.replaceComments(comments));
    });

```
ã‚ã‚‰ä¸æ€è­°ã€‚ã™ã§ã«ã€ãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã¯å®Œæˆã—ã¦ã„ã¾ã™ã€‚

åˆ¥ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚„Chromeã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒ–ãƒ©ã‚¦ã‚¶ãªã©ã§ã‚¢ãƒ—ãƒªã‚’é–‹ã„ã¦æŠ•ç¨¿ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

æŠ•ç¨¿ã—ãŸã‚³ãƒ¡ãƒ³ãƒˆãŒï¼’é‡ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã¯posté–¢æ•°ã§ã‚³ãƒ¡ãƒ³ãƒˆã‚’æŒ¿å…¥ã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã—ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚
onSnapshotã§ç›£è¦–ã‚’ã—ã¦ã„ã‚‹ã®ã§postã§æ˜ç¤ºçš„ã«æŠ•ç¨¿ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

https://firebase.google.com/docs/firestore/query-data/listen?authuser=0


### ã‚½ãƒ¼ãƒˆã€ã‚¯ã‚¨ãƒªã®ç™ºè¡Œã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã€èªè¨¼
ä½•ä»¶ã‹æŠ•ç¨¿ã—ã¦ã¿ã‚‹ã¨æ™‚ç³»åˆ—é †ã«è¡¨ç¤ºã•ã‚Œãªã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ä»Šã¾ã§ã®ã‚µãƒ³ãƒ—ãƒ«ã§ã¯å˜ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å–ã£ã¦ãã¦ã„ã‚‹ã ã‘ãªã®ã§ã€`orderBy`ã«ã‚ˆã‚Šãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚½ãƒ¼ãƒˆã•ã›ã¾ã—ã‚‡ã†ã€‚
```js
db
  .collection('chat')
  .orderBy('date')
  .onSnapshot(querySnapshot => {
    const comments = [];
    querySnapshot.forEach(doc => {
      comments.push(doc.data());
    });
    store.dispatch(chatActions.replaceComments(comments));
  });
```
ã‚½ãƒ¼ãƒˆã§ããŸã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

ã‚¯ã‚¨ãƒªã‚‚è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã‹
```js
.where('username', '==', 'Naoya Ishii')
```

ã‚¯ã‚¨ãƒªã¨ã‚½ãƒ¼ãƒˆã‚’åŒæ™‚ã«ä½¿ã†å ´åˆã¯æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚ç•°ãªã‚‹ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦ã‚¯ã‚¨ãƒªã¨ã‚½ãƒ¼ãƒˆã‚’åŒæ™‚ã«è¡Œã†ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
ã‚ã‚Œï¼Ÿã§ãã¾ã™ï¼Ÿã‚ã‹ã‚‰ã‚“ã€‚
```js
// ã ã‚
.where('username', '==', 'Naoya Ishii')
.orderBy('date')
```
```js
// OK
.where('date', '>', new Date('2018/02/27 16:00'))
.orderBy('date')
```

ãã®ä»–è©³ã—ã„ã‚¯ã‚¨ãƒªã¯ã“ã¡ã‚‰å‚ç…§ã€‚
https://firebase.google.com/docs/firestore/query-data/queries?authuser=0
https://firebase.google.com/docs/firestore/query-data/order-limit-data?authuser=0


ã‚¯ã‚¨ãƒªã‚’ã“ã­ã“ã­ã—ã¦ã„ãŸã‚‰ãªã‚“ã‹ã‚¨ãƒ©ãƒ¼å‡ºã¦ã¾ã™ã‹ï¼Ÿã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œã‚Œã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã­ï¼Ÿãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
è¨€ã‚ã‚‹ãŒã¾ã¾ã«ã½ã¡ã½ã¡ã™ã‚‹ã¨å‹æ‰‹ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œã£ã¦ãã‚Œã¾ã™ã€‚ã“ã‚Œã§è¤‡åˆã‚¯ã‚¨ãƒªãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã‚“ã§ã—ã‚‡ã†ã‹ã€‚
è©³ã—ãã¯ã“ã¡ã‚‰
https://firebase.google.com/docs/firestore/query-data/indexing?authuser=0


æœ€å¾Œã«èªè¨¼ã‚’ã—ã¦ã¿ã¾ã™ã€‚ä»Šå›ã¯ã€ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã©ã†ã‹ã®ã¿ã‚’è¦‹ã‚‹ç°¡å˜ãªèªè¨¼ã‚’è¡Œã„ã¾ã™ã€‚
webUIä¸Šã§Databaseã®ãƒ«ãƒ¼ãƒ«ã‚¿ãƒ–ã‚’é–‹ãã¾ã™ã€‚
ç¾æ™‚ç‚¹ã§ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆæ™‚ã«è¨­å®šã—ãŸã‚ˆã†ã«ã™ã¹ã¦ã®ã‚¢ã‚¯ã‚»ã‚¹ã«å¯¾ã—ã¦read/writeãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
ã“ã‚Œã‚’ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ã¨ã™ã‚‹ã‚ˆã†ã«æ›¸ãæ›ãˆã¾ã™ã€‚
```
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```
æ–°ã—ã„ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹åˆæœŸçŠ¶æ…‹ã§ã¯æœªãƒ­ã‚°ã‚¤ãƒ³ã®ãŸã‚ã€DBã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ããšã«ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚
åŒ¿åèªè¨¼ã—ã¦ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨æ­£å¸¸ã«ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ãŒã§ãã¾ã™ã€‚ï¼ˆé›‘ãªä½œã‚Šã®ã›ã„ã§ãƒ­ã‚°ã‚¤ãƒ³ç›´å¾Œã«ã¯ãƒ‡ãƒ¼ã‚¿ã‚’å–ã£ã¦ã“ã‚Œãšè¡¨ç¤ºãŒå¤‰ã‚ã‚‰ãªã„ã¾ã¾ã¨ãªã£ã¦ã„ã¾ã™ã€‚ã€‚ã€‚ï¼‰

ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã©ã®é ˜åŸŸã«å¯¾ã—ã¦ã©ã®ã‚ˆã†ãªèªè¨¼åˆ¶é™ã‚’ã‹ã‘ã‚‹ã‹ã‚‚è¨­å®šã§ãã‚‹ã‚ˆã†ã§ã™ã€‚
https://firebase.google.com/docs/firestore/security/get-started?authuser=0


## Functions
ã„ã‚ã‚†ã‚‹FaaSã€ã¡ã‚‡ã£ã¨ã ã‘ã‚„ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

æœ€åˆã«firebase initã—ãŸæ™‚ã«functionsã‚’é¸æŠã—ã¦ã„ã‚Œã°ã™ã§ã«functionsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒã‚ã‚‹ã¯ãšã§ã™ã€‚
ãã®ä¸­ã®index.jsã«å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚

ä»Šå›ã¯Firestoreã«æ–°ã—ãç™»éŒ²ã•ã‚ŒãŸã‚³ãƒ¡ãƒ³ãƒˆã®å†…å®¹ã‚’ç¢ºèªã—ã€ä¸é©åˆ‡ãªç™ºè¨€ãŒã‚ã£ãŸå ´åˆã“ã‚Œã‚’æ›¸ãæ›ãˆã‚‹ã¨ã„ã†é–¢æ•°ã‚’ä½œã‚Šã¾ã™ã€‚

æ—©é€Ÿã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¡ã‚ƒã„ã¾ã™
```js
const functions = require('firebase-functions');

const admin = require('firebase-admin');
admin.initializeApp(functions.config().firebase);

exports.checkMessage = functions.firestore
  .document('chat/{id}')
  .onCreate(event => {
    const newValue = event.data.data();

    // access a particular field as you would any JS property
    const username = newValue.username;
    const message = newValue.message;
    const date = newValue.date;

    if (message.includes('ã†ã‚“ã¡') || message.includes('test')) {
      return event.data.ref.set({
        username,
        message: 'ã‚ã¼ãƒ¼ã‚“',
        date,
      });
    }

    return null;
  });

```

ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™
```
firebase deploy --only functions
```

æ­£å¸¸ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèªã—ãŸã‚‰æ¡ä»¶ã«ãƒãƒƒãƒã™ã‚‹ãƒ¯ãƒ¼ãƒ‰ã‚’æŠ•ç¨¿ã—ã¦ã¿ã¾ã™ã€‚
ä¸€æ—¦ã¯ãã®ã¾ã¾æŠ•ç¨¿ã•ã‚Œã¾ã™ãŒã€FunctionsãŒå‡¦ç†ã—æ¬¡ç¬¬æ›¸ãæ›ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚
ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ç›£è¦–ã—ã¦ã„ã‚‹ã®ã§ã€FunctionsãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä¿®æ­£ã—æ¬¡ç¬¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¡¨ç¤ºé¢ã«ã‚‚ç›´ã¡ã«ä¿®æ­£ãŒåæ˜ ã•ã‚Œã¾ã™ã€‚





















